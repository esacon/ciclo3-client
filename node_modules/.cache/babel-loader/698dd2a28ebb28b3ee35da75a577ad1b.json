{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Venta=function Venta(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),ventas=_useState2[0],setVentas=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),ventas2=_useState4[0],setVentas2=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setID=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),cedula=_useState8[0],setCedula=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),nombre=_useState10[0],setNombre=_useState10[1];useEffect(function(){getProductos();},[]);var getProductos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/ventas/get');case 3:response=_context.sent;setVentas(response.data.ventas);setVentas2(response.data.ventas);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProductos(){return _ref.apply(this,arguments);};}();var buscarVenta=function buscarVenta(e){ventas.forEach(function(venta){if(venta.id.toString().includes(id)){setVentas2([venta]);}});};var buscarCedula=function buscarCedula(e){ventas.forEach(function(venta){if(venta.cedula_cliente.toString().includes(cedula)){setVentas2([venta]);}});};var buscarNombre=function buscarNombre(e){ventas.forEach(function(venta){if(venta.nombre_cliente.toString().toLowerCase().includes(nombre)){setVentas2([venta]);}});};var changeID=function changeID(e){var id=e.target.value;setID(id);if(id.toString()===\"\"){setVentas2(ventas);}};var changeCedula=function changeCedula(e){var cedula=e.target.value;setCedula(cedula.toString().toLowerCase());if(id.toString()===\"\"){setVentas2(ventas);}};var changeNombre=function changeNombre(e){var nombre=e.target.value;setNombre(nombre.toLowerCase());if(id.toString()===\"\"){setVentas2(ventas);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-inline offset-sm-1 mt-5\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"mg-l text-left mb-2\",children:\"Buscar por identificador:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control mr-sm-2 ml-3\",name:\"uuid\",type:\"number\",placeholder:\"Identificador\",\"aria-label\":\"UUID\",onChange:changeID}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success my-2 my-sm-0\",onClick:buscarVenta,children:\"Buscar\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-inline offset-sm-1 mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"mg-l text-left mb-2\",children:\"Buscar por c\\xE9dula:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control mr-sm-2 ml-4\",name:\"cedula\",type:\"text\",placeholder:\"C\\xE9dula del cliente\",\"aria-label\":\"C\\xE9dula del cliente\",onChange:changeCedula}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success my-2 my-sm-0\",onClick:buscarCedula,children:\"Buscar\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-inline offset-sm-1 mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"mg-l text-left mb-2\",children:\"Buscar por nombre:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control mr-sm-2 ml-4\",name:\"nombre\",type:\"text\",placeholder:\"Nombre del cliente\",\"aria-label\":\"Nombre del cliente\",onChange:changeNombre}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success my-2 my-sm-0\",onClick:buscarNombre,children:\"Buscar\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm-10 offset-sm-1 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"mg-l text-left mb-2\",children:\"Ventas realizadas:\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Identificador\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Cantidad\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Producto\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Valor Unitario\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"C\\xE9dula Cliente\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre Cliente\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Vendedor\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Estado\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:ventas2.map(function(venta){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:venta.id}),/*#__PURE__*/_jsx(\"td\",{children:venta.cantidad}),/*#__PURE__*/_jsx(\"td\",{children:venta.id_producto}),/*#__PURE__*/_jsx(\"td\",{children:venta.descripcion_producto}),/*#__PURE__*/_jsx(\"td\",{children:venta.valor_producto}),/*#__PURE__*/_jsx(\"td\",{children:venta.cedula_cliente}),/*#__PURE__*/_jsx(\"td\",{children:venta.nombre_cliente}),/*#__PURE__*/_jsx(\"td\",{children:venta.email_vendedor}),venta.estado===0&&/*#__PURE__*/_jsx(\"td\",{children:\"En proceso\"}),venta.estado===1&&/*#__PURE__*/_jsx(\"td\",{children:\"Cancelada\"}),venta.estado===2&&/*#__PURE__*/_jsx(\"td\",{children:\"Entregada\"})]});})})]})]})]});};export default Venta;","map":{"version":3,"sources":["C:/Users/Enrique Niebles/Documents/Misión TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/src/components/ventas/Venta.js"],"names":["React","useEffect","useState","axios","Venta","ventas","setVentas","ventas2","setVentas2","id","setID","cedula","setCedula","nombre","setNombre","getProductos","get","response","data","console","log","buscarVenta","e","forEach","venta","toString","includes","buscarCedula","cedula_cliente","buscarNombre","nombre_cliente","toLowerCase","changeID","target","value","changeCedula","changeNombre","map","cantidad","id_producto","descripcion_producto","valor_producto","email_vendedor","estado"],"mappings":"upBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,GAAMC,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,EAAM,CAEhB,cAA4BF,QAAQ,CAAC,EAAD,CAApC,wCAAOG,MAAP,eAAeC,SAAf,eACA,eAA8BJ,QAAQ,CAAC,EAAD,CAAtC,yCAAOK,OAAP,eAAgBC,UAAhB,eAEA,eAAoBN,QAAQ,CAAC,EAAD,CAA5B,yCAAOO,EAAP,eAAWC,KAAX,eACA,eAA4BR,QAAQ,CAAC,EAAD,CAApC,yCAAOS,MAAP,eAAeC,SAAf,eACA,eAA4BV,QAAQ,CAAC,EAAD,CAApC,0CAAOW,MAAP,gBAAeC,SAAf,gBAEAb,SAAS,CAAC,UAAM,CACZc,YAAY,GACf,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,YAAY,0FAAG,sLAEUZ,CAAAA,KAAK,CAACa,GAAN,CAAU,wDAAV,CAFV,QAEPC,QAFO,eAGbX,SAAS,CAACW,QAAQ,CAACC,IAAT,CAAcb,MAAf,CAAT,CACAG,UAAU,CAACS,QAAQ,CAACC,IAAT,CAAcb,MAAf,CAAV,CAJa,+EAMbc,OAAO,CAACC,GAAR,CAAY,sBAAZ,EANa,oEAAH,kBAAZL,CAAAA,YAAY,0CAAlB,CAUA,GAAMM,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBjB,MAAM,CAACkB,OAAP,CAAe,SAACC,KAAD,CAAW,CACtB,GAAIA,KAAK,CAACf,EAAN,CAASgB,QAAT,GAAoBC,QAApB,CAA6BjB,EAA7B,CAAJ,CAAsC,CAClCD,UAAU,CAAC,CAACgB,KAAD,CAAD,CAAV,CACH,CACJ,CAJD,EAKH,CAND,CAQA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CACxBjB,MAAM,CAACkB,OAAP,CAAe,SAACC,KAAD,CAAW,CACtB,GAAIA,KAAK,CAACI,cAAN,CAAqBH,QAArB,GAAgCC,QAAhC,CAAyCf,MAAzC,CAAJ,CAAsD,CAClDH,UAAU,CAAC,CAACgB,KAAD,CAAD,CAAV,CACH,CACJ,CAJD,EAKH,CAND,CAQA,GAAMK,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACP,CAAD,CAAO,CACxBjB,MAAM,CAACkB,OAAP,CAAe,SAACC,KAAD,CAAW,CACtB,GAAIA,KAAK,CAACM,cAAN,CAAqBL,QAArB,GAAgCM,WAAhC,GAA8CL,QAA9C,CAAuDb,MAAvD,CAAJ,CAAoE,CAChEL,UAAU,CAAC,CAACgB,KAAD,CAAD,CAAV,CACH,CACJ,CAJD,EAKH,CAND,CAQA,GAAMQ,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACV,CAAD,CAAO,CACpB,GAAIb,CAAAA,EAAE,CAAGa,CAAC,CAACW,MAAF,CAASC,KAAlB,CACAxB,KAAK,CAACD,EAAD,CAAL,CACA,GAAIA,EAAE,CAACgB,QAAH,KAAkB,EAAtB,CAAyB,CACrBjB,UAAU,CAACH,MAAD,CAAV,CACH,CACJ,CAND,CAQA,GAAM8B,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACb,CAAD,CAAO,CACxB,GAAIX,CAAAA,MAAM,CAAGW,CAAC,CAACW,MAAF,CAASC,KAAtB,CACAtB,SAAS,CAACD,MAAM,CAACc,QAAP,GAAkBM,WAAlB,EAAD,CAAT,CACA,GAAItB,EAAE,CAACgB,QAAH,KAAkB,EAAtB,CAAyB,CACrBjB,UAAU,CAACH,MAAD,CAAV,CACH,CACJ,CAND,CAQA,GAAM+B,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACd,CAAD,CAAO,CACxB,GAAIT,CAAAA,MAAM,CAAGS,CAAC,CAACW,MAAF,CAASC,KAAtB,CACApB,SAAS,CAACD,MAAM,CAACkB,WAAP,EAAD,CAAT,CACA,GAAItB,EAAE,CAACgB,QAAH,KAAkB,EAAtB,CAAyB,CACrBjB,UAAU,CAACH,MAAD,CAAV,CACH,CACJ,CAND,CAQA,mBACI,oCACI,aAAK,KAAK,CAAC,8BAAX,wBACI,WAAI,KAAK,CAAC,qBAAV,uCADJ,cAEI,cAAO,KAAK,CAAC,2BAAb,CAAyC,IAAI,CAAC,MAA9C,CAAqD,IAAI,CAAC,QAA1D,CAAmE,WAAW,CAAC,eAA/E,CAA+F,aAAW,MAA1G,CAAiH,QAAQ,CAAE2B,QAA3H,EAFJ,cAGI,eAAQ,KAAK,CAAC,sCAAd,CAAqD,OAAO,CAAEX,WAA9D,oBAHJ,GADJ,cAMI,aAAK,KAAK,CAAC,8BAAX,wBACI,WAAI,KAAK,CAAC,qBAAV,mCADJ,cAEI,cAAO,KAAK,CAAC,2BAAb,CAAyC,IAAI,CAAC,QAA9C,CAAuD,IAAI,CAAC,MAA5D,CAAmE,WAAW,CAAC,uBAA/E,CAAoG,aAAW,uBAA/G,CAAoI,QAAQ,CAAEc,YAA9I,EAFJ,cAGI,eAAQ,KAAK,CAAC,sCAAd,CAAqD,OAAO,CAAER,YAA9D,oBAHJ,GANJ,cAWI,aAAK,KAAK,CAAC,8BAAX,wBACI,WAAI,KAAK,CAAC,qBAAV,gCADJ,cAEI,cAAO,KAAK,CAAC,2BAAb,CAAyC,IAAI,CAAC,QAA9C,CAAuD,IAAI,CAAC,MAA5D,CAAmE,WAAW,CAAC,oBAA/E,CAAoG,aAAW,oBAA/G,CAAoI,QAAQ,CAAES,YAA9I,EAFJ,cAGI,eAAQ,KAAK,CAAC,sCAAd,CAAqD,OAAO,CAAEP,YAA9D,oBAHJ,GAXJ,cAgBI,aAAK,KAAK,CAAC,mCAAX,wBACI,WAAI,KAAK,CAAC,qBAAV,gCADJ,cAEI,eAAO,KAAK,CAAC,OAAb,wBACI,cAAO,KAAK,CAAC,YAAb,uBACI,mCACA,WAAI,KAAK,CAAC,KAAV,2BADA,cAEA,WAAI,KAAK,CAAC,KAAV,sBAFA,cAGA,WAAI,KAAK,CAAC,KAAV,sBAHA,cAIA,WAAI,KAAK,CAAC,KAAV,4BAJA,cAKA,WAAI,KAAK,CAAC,KAAV,4BALA,cAMA,WAAI,KAAK,CAAC,KAAV,+BANA,cAOA,WAAI,KAAK,CAAC,KAAV,4BAPA,cAQA,WAAI,KAAK,CAAC,KAAV,sBARA,cASA,WAAI,KAAK,CAAC,KAAV,oBATA,GADJ,EADJ,cAcI,uBAEQtB,OAAO,CAAC8B,GAAR,CAAY,SAACb,KAAD,qBACR,mCACI,oBAAKA,KAAK,CAACf,EAAX,EADJ,cAEI,oBAAKe,KAAK,CAACc,QAAX,EAFJ,cAGI,oBAAKd,KAAK,CAACe,WAAX,EAHJ,cAII,oBAAKf,KAAK,CAACgB,oBAAX,EAJJ,cAKI,oBAAKhB,KAAK,CAACiB,cAAX,EALJ,cAMI,oBAAKjB,KAAK,CAACI,cAAX,EANJ,cAOI,oBAAKJ,KAAK,CAACM,cAAX,EAPJ,cAQI,oBAAKN,KAAK,CAACkB,cAAX,EARJ,CASKlB,KAAK,CAACmB,MAAN,GAAiB,CAAjB,eAAsB,kCAT3B,CAUKnB,KAAK,CAACmB,MAAN,GAAiB,CAAjB,eAAsB,iCAV3B,CAWKnB,KAAK,CAACmB,MAAN,GAAiB,CAAjB,eAAsB,iCAX3B,GADQ,EAAZ,CAFR,EAdJ,GAFJ,GAhBJ,GADJ,CAwDH,CA/HD,CAiIA,cAAevC,CAAAA,KAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Venta = () => {\r\n\r\n    const [ventas, setVentas] = useState([]);\r\n    const [ventas2, setVentas2] = useState([]);\r\n\r\n    const [id, setID] = useState(\"\");\r\n    const [cedula, setCedula] = useState(\"\");\r\n    const [nombre, setNombre] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        getProductos();\r\n    }, []);\r\n\r\n    const getProductos = async () => {\r\n        try {\r\n            const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/ventas/get');\r\n            setVentas(response.data.ventas);\r\n            setVentas2(response.data.ventas);\r\n        } catch (error) {\r\n            console.log(\"Ha ocurrido un error\");\r\n        }\r\n    };\r\n\r\n    const buscarVenta = (e) => {          \r\n        ventas.forEach((venta) => {\r\n            if (venta.id.toString().includes(id)) {\r\n                setVentas2([venta]);\r\n            }\r\n        })      \r\n    }\r\n\r\n    const buscarCedula = (e) => {          \r\n        ventas.forEach((venta) => {\r\n            if (venta.cedula_cliente.toString().includes(cedula)) {\r\n                setVentas2([venta]);\r\n            }\r\n        })      \r\n    }\r\n\r\n    const buscarNombre = (e) => {          \r\n        ventas.forEach((venta) => {\r\n            if (venta.nombre_cliente.toString().toLowerCase().includes(nombre)) {\r\n                setVentas2([venta]);\r\n            }\r\n        })      \r\n    }\r\n\r\n    const changeID = (e) => {\r\n        let id = e.target.value;\r\n        setID(id);\r\n        if (id.toString() === \"\"){\r\n            setVentas2(ventas);\r\n        }\r\n    }\r\n\r\n    const changeCedula = (e) => {\r\n        let cedula = e.target.value;\r\n        setCedula(cedula.toString().toLowerCase());\r\n        if (id.toString() === \"\"){\r\n            setVentas2(ventas);\r\n        }\r\n    }\r\n\r\n    const changeNombre = (e) => {\r\n        let nombre = e.target.value;\r\n        setNombre(nombre.toLowerCase());\r\n        if (id.toString() === \"\"){\r\n            setVentas2(ventas);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"form-inline offset-sm-1 mt-5\">\r\n                <h5 class=\"mg-l text-left mb-2\">Buscar por identificador:</h5> \r\n                <input class=\"form-control mr-sm-2 ml-3\" name=\"uuid\" type=\"number\" placeholder=\"Identificador\" aria-label=\"UUID\" onChange={changeID}/>\r\n                <button class=\"btn btn-outline-success my-2 my-sm-0\" onClick={buscarVenta}>Buscar</button>\r\n            </div>\r\n            <div class=\"form-inline offset-sm-1 mt-4\">\r\n                <h5 class=\"mg-l text-left mb-2\">Buscar por cédula:</h5> \r\n                <input class=\"form-control mr-sm-2 ml-4\" name=\"cedula\" type=\"text\" placeholder=\"Cédula del cliente\" aria-label=\"Cédula del cliente\" onChange={changeCedula}/>\r\n                <button class=\"btn btn-outline-success my-2 my-sm-0\" onClick={buscarCedula}>Buscar</button>\r\n            </div>\r\n            <div class=\"form-inline offset-sm-1 mt-4\">\r\n                <h5 class=\"mg-l text-left mb-2\">Buscar por nombre:</h5> \r\n                <input class=\"form-control mr-sm-2 ml-4\" name=\"nombre\" type=\"text\" placeholder=\"Nombre del cliente\" aria-label=\"Nombre del cliente\" onChange={changeNombre}/>\r\n                <button class=\"btn btn-outline-success my-2 my-sm-0\" onClick={buscarNombre}>Buscar</button>\r\n            </div>\r\n            <div class=\"col-sm-10 offset-sm-1 p-4 rounded\">                \r\n                <h2 class=\"mg-l text-left mb-2\">Ventas realizadas:</h2> \r\n                <table class=\"table\">\r\n                    <thead class=\"thead-dark\">\r\n                        <tr>\r\n                        <th scope=\"col\">Identificador</th>\r\n                        <th scope=\"col\">Cantidad</th>\r\n                        <th scope=\"col\">Producto</th>\r\n                        <th scope=\"col\">Descripción</th>\r\n                        <th scope=\"col\">Valor Unitario</th>\r\n                        <th scope=\"col\">Cédula Cliente</th>\r\n                        <th scope=\"col\">Nombre Cliente</th>\r\n                        <th scope=\"col\">Vendedor</th>\r\n                        <th scope=\"col\">Estado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { \r\n                            ventas2.map((venta) => (                                \r\n                                <tr>\r\n                                    <td>{venta.id}</td>\r\n                                    <td>{venta.cantidad}</td>\r\n                                    <td>{venta.id_producto}</td>\r\n                                    <td>{venta.descripcion_producto}</td>\r\n                                    <td>{venta.valor_producto}</td>\r\n                                    <td>{venta.cedula_cliente}</td>\r\n                                    <td>{venta.nombre_cliente}</td>\r\n                                    <td>{venta.email_vendedor}</td>\r\n                                    {venta.estado === 0 && <td>En proceso</td>}\r\n                                    {venta.estado === 1 && <td>Cancelada</td>}\r\n                                    {venta.estado === 2 && <td>Entregada</td>}\r\n                                </tr>\r\n                            )) \r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Venta;"]},"metadata":{},"sourceType":"module"}