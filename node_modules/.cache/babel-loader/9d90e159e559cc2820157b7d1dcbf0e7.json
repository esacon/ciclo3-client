{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Select from'react-select';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SignUp(){var roleOptions=[{value:0,label:'Sin asignar'},{value:1,label:'Vendedor'},{value:2,label:'Administrador'}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setusers=_useState2[1];useEffect(function(){getUsersPendientes();},[]);var getUsersPendientes=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/pendientes');case 3:response=_context.sent;console.log(response.data.users);setusers(response.data.users);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getUsersPendientes(){return _ref.apply(this,arguments);};}();var getInitialState=function getInitialState(){var value=\"correo\";return value;};var _useState3=useState(getInitialState),_useState4=_slicedToArray(_useState3,2),usuario=_useState4[0],setUsuario=_useState4[1];var _useState5=useState(roleOptions[0]),_useState6=_slicedToArray(_useState5,2),role=_useState6[0],setRole=_useState6[1];var selectRole=function selectRole(role){setRole(role);};var selectUser=function selectUser(e){var user=JSON.parse(e.target.value);setRole(roleOptions[user.role]);setUsuario(user);};return/*#__PURE__*/_jsx(\"div\",{className:\"SignUp\",children:/*#__PURE__*/_jsx(\"div\",{class:\"container\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-6 offset-sm-3 shadow mt-5 p-4 rounded\",children:/*#__PURE__*/_jsxs(\"form\",{class:\"row g-3\",action:\"https://pub-ciclo3-server.herokuapp.com/api/editClient\",method:\"post\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputUsers\",class:\"form-label\",children:\"Usuarios\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"form-select\",name:\"emailSelector\",onChange:selectUser,children:[/*#__PURE__*/_jsx(\"option\",{value:null}),users.map(function(user){return/*#__PURE__*/_jsx(\"option\",{value:JSON.stringify(user),children:user.email});})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputName\",class:\"form-label\",children:\"Nombres\"}),/*#__PURE__*/_jsx(\"input\",{type:\"name\",class:\"form-control\",name:\"name\",id:\"inputName\",value:usuario.firstName,required:\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputLastName\",class:\"form-label\",children:\"Apellidos\"}),/*#__PURE__*/_jsx(\"input\",{type:\"name\",class:\"form-control\",name:\"lastname\",id:\"inputLastname\",value:usuario.lastName,required:\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputEmail4\",class:\"form-label\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",class:\"form-control\",name:\"email\",id:\"inputEmail\",value:usuario.email,required:\"true\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPhone\",class:\"form-label\",children:\"Tel\\xE9fono\"}),/*#__PURE__*/_jsx(\"input\",{type:\"phone\",class:\"form-control\",id:\"inputAddress2\",name:\"phoneNumber\",placeholder:\"N\\xFAmero de tel\\xE9fono\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-4\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputRol\",class:\"form-label\",children:\"Rol\"}),/*#__PURE__*/_jsx(Select,{class:\"form-select\",id:\"inputRol\",name:\"role\",options:roleOptions,value:role,onChange:selectRole})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12 mt-4\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-dark btn-block\",id:\"post-btn\",type:\"submit\",children:\"Registrar\"})})]})})})})});}export default SignUp;","map":{"version":3,"sources":["C:/Users/Enrique Niebles/Documents/Misión TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/src/components/admin/createUser.js"],"names":["React","useEffect","useState","Select","axios","SignUp","roleOptions","value","label","users","setusers","getUsersPendientes","get","response","console","log","data","getInitialState","usuario","setUsuario","role","setRole","selectRole","selectUser","e","user","JSON","parse","target","map","stringify","email","firstName","lastName"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\n\r\nfunction SignUp(){\r\n\r\n  const roleOptions = [\r\n      { value: 0, label: 'Sin asignar' },\r\n      { value: 1, label: 'Vendedor' },\r\n      { value: 2, label: 'Administrador' }\r\n  ];\r\n\r\n  const [users, setusers] = useState([]);\r\n\r\n  useEffect(() => {\r\n      getUsersPendientes();\r\n  }, []);\r\n\r\n\r\n  const getUsersPendientes = async () => {\r\n      try {\r\n          const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/pendientes');\r\n          console.log(response.data.users);\r\n          setusers(response.data.users);\r\n      } catch (error) {\r\n          console.log(\"Ha ocurrido un error\");\r\n      }\r\n  }\r\n\r\n  const getInitialState = () => {\r\n    const value = \"correo\";\r\n    return value;\r\n  };\r\n  \r\n  const [usuario, setUsuario] = useState(getInitialState);\r\n  const [role, setRole] = useState(roleOptions[0]);\r\n\r\n  const selectRole = (role) => {\r\n    setRole(role);\r\n  } \r\n\r\n  const selectUser = (e) => {    \r\n    const user = JSON.parse(e.target.value);    \r\n    setRole(roleOptions[user.role]);\r\n    setUsuario(user);\r\n  };\r\n\r\n  return(\r\n    <div className=\"SignUp\">\r\n      <div class=\"container\">\r\n        <div class=\"row\">\r\n          <div class=\"col-sm-6 offset-sm-3 shadow mt-5 p-4 rounded\">\r\n            <form class=\"row g-3\" action=\"https://pub-ciclo3-server.herokuapp.com/api/editClient\" method=\"post\"> \r\n              <div class=\"col-12 mt-2\">\r\n                <label for=\"inputUsers\" class=\"form-label\">Usuarios</label>                \r\n                <select class=\"form-select\" name=\"emailSelector\" onChange={selectUser}> \r\n                  <option value={null}></option>                 \r\n                  {\r\n                    users.map((user) => (\r\n                      <option value={JSON.stringify(user)}>{user.email}</option>\r\n                    ))                    \r\n                  }\r\n                </select>\r\n              </div>\r\n              <div class=\"col-md-6 mt-4\">\r\n                <label for=\"inputName\" class=\"form-label\">Nombres</label>\r\n                <input type=\"name\" class=\"form-control\" name=\"name\"  id=\"inputName\" value={usuario.firstName} required=\"true\"/>\r\n              </div>\r\n              <div class=\"col-md-6 mt-4\">\r\n                <label for=\"inputLastName\" class=\"form-label\">Apellidos</label>\r\n                <input type=\"name\" class=\"form-control\" name=\"lastname\" id=\"inputLastname\" value={usuario.lastName} required=\"true\"/>\r\n              </div>\r\n              <div class=\"col-12 mt-4\">\r\n                <label for=\"inputEmail4\" class=\"form-label\">E-mail</label>                \r\n                <input type=\"email\" class=\"form-control\" name=\"email\" id=\"inputEmail\" value={usuario.email} required=\"true\"/>\r\n              </div>\r\n              <div class=\"col-md-6 mt-4\">\r\n                <label for=\"inputPhone\" class=\"form-label\">Teléfono</label>\r\n                <input type=\"phone\" class=\"form-control\" id=\"inputAddress2\" name=\"phoneNumber\" placeholder=\"Número de teléfono\"/>\r\n              </div>\r\n              <div class=\"col-md-6 mt-4\">\r\n                <label for=\"inputRol\" class=\"form-label\">Rol</label>\r\n                <Select class=\"form-select\" id=\"inputRol\" name=\"role\" options={roleOptions} value={role} onChange={selectRole} />                \r\n              </div>\r\n              <div class=\"col-12 mt-4\">\r\n                <button class=\"btn btn-dark btn-block\" id=\"post-btn\" type=\"submit\">Registrar</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SignUp;\r\n"]},"metadata":{},"sourceType":"module"}