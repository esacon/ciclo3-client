{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Producto=function Producto(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productos=_useState2[0],setProductos=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),productos2=_useState4[0],setProductos2=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),id=_useState6[0],setID=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),descripcion=_useState8[0],setDescripcion=_useState8[1];useEffect(function(){getProductos();},[]);var getProductos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/productos/get');case 3:response=_context.sent;console.log(response.data.products);setProductos(response.data.products);setProductos2(response.data.products);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getProductos(){return _ref.apply(this,arguments);};}();var buscarProducto=function buscarProducto(e){productos.forEach(function(producto){if(producto.id.toString().includes(id)){setProductos2([producto]);}});};var buscarDescripcion=function buscarDescripcion(e){var resultados=[];productos.forEach(function(producto){if(producto.descripcion.toString().toLowerCase().includes(descripcion)){resultados.push(producto);}});setProductos2(resultados);};var changeID=function changeID(e){var id=e.target.value;setID(id);if(id.toString()===\"\"){setProductos2(productos);}};var changeDescripcion=function changeDescripcion(e){var descripcion=e.target.value;setDescripcion(descripcion);if(descripcion===\"\"){setProductos2(productos);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-inline offset-sm-1 mt-5\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"mg-l text-left mb-2\",children:\"Buscar por identificador:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control mr-sm-2 ml-3\",name:\"uuid\",type:\"number\",placeholder:\"Identificador\",\"aria-label\":\"UUID\",onChange:changeID}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success my-2 my-sm-0\",onClick:buscarProducto,children:\"Buscar\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-inline offset-sm-1 mt-4\",children:[/*#__PURE__*/_jsx(\"h5\",{class:\"mg-l text-left mb-2\",children:\"Buscar por descripci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{class:\"form-control mr-sm-2 ml-4\",name:\"uuid\",type:\"text\",placeholder:\"Descripci\\xF3n\",\"aria-label\":\"UUID\",onChange:changeDescripcion}),/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-outline-success my-2 my-sm-0\",onClick:buscarDescripcion,children:\"Buscar\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-sm-10 offset-sm-1 p-4 rounded\",children:[/*#__PURE__*/_jsx(\"h2\",{class:\"mg-l text-left mb-2\",children:\"Productos:\"}),/*#__PURE__*/_jsxs(\"table\",{class:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"thead-dark\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Identificador\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Nombre\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Descripci\\xF3n\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Valor Unitario\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Estado\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:productos2.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product.id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsx(\"td\",{children:product.descripcion}),/*#__PURE__*/_jsx(\"td\",{children:product.valor}),product.stock===0&&/*#__PURE__*/_jsx(\"td\",{children:\"Disponible\"}),product.stock===1&&/*#__PURE__*/_jsx(\"td\",{children:\"No disponible\"})]});})})]})]})]});};export default Producto;","map":{"version":3,"sources":["C:/Users/Enrique Niebles/Documents/MisiÃ³n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/src/components/product/Producto.js"],"names":["React","useEffect","useState","axios","Producto","productos","setProductos","productos2","setProductos2","id","setID","descripcion","setDescripcion","getProductos","get","response","console","log","data","products","buscarProducto","e","forEach","producto","toString","includes","buscarDescripcion","resultados","toLowerCase","push","changeID","target","value","changeDescripcion","map","product","name","valor","stock"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Producto = () => {\r\n\r\n    const [productos, setProductos] = useState([]);\r\n    const [productos2, setProductos2] = useState([]);\r\n\r\n    const [id, setID] = useState(\"\");\r\n    const [descripcion, setDescripcion] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        getProductos();\r\n    }, []);\r\n\r\n    const getProductos = async () => {\r\n        try {\r\n            const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/productos/get');\r\n            console.log(response.data.products);\r\n            setProductos(response.data.products);\r\n            setProductos2(response.data.products);\r\n        } catch (error) {\r\n            console.log(\"Ha ocurrido un error\");\r\n        }\r\n    };\r\n\r\n    const buscarProducto = (e) => {          \r\n        productos.forEach((producto) => {\r\n            if (producto.id.toString().includes(id)) {\r\n                setProductos2([producto]);\r\n            }\r\n        })      \r\n    }\r\n\r\n    const buscarDescripcion = (e) => {  \r\n        const resultados = [];        \r\n        productos.forEach((producto) => {\r\n            if (producto.descripcion.toString().toLowerCase().includes(descripcion)) {\r\n                resultados.push(producto);\r\n            }\r\n        });\r\n        setProductos2(resultados);    \r\n    }\r\n\r\n    const changeID = (e) => {\r\n        let id = e.target.value;\r\n        setID(id);\r\n        if (id.toString() === \"\"){\r\n            setProductos2(productos);\r\n        }\r\n    }\r\n\r\n    const changeDescripcion = (e) => {\r\n        let descripcion = e.target.value;\r\n        setDescripcion(descripcion);\r\n        if (descripcion === \"\"){\r\n            setProductos2(productos);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div class=\"form-inline offset-sm-1 mt-5\">\r\n                <h5 class=\"mg-l text-left mb-2\">Buscar por identificador:</h5> \r\n                <input class=\"form-control mr-sm-2 ml-3\" name=\"uuid\" type=\"number\" placeholder=\"Identificador\" aria-label=\"UUID\" onChange={changeID}/>\r\n                <button class=\"btn btn-outline-success my-2 my-sm-0\" onClick={buscarProducto}>Buscar</button>\r\n            </div>\r\n            <div class=\"form-inline offset-sm-1 mt-4\">\r\n                <h5 class=\"mg-l text-left mb-2\">Buscar por descripciÃ³n:</h5> \r\n                <input class=\"form-control mr-sm-2 ml-4\" name=\"uuid\" type=\"text\" placeholder=\"DescripciÃ³n\" aria-label=\"UUID\" onChange={changeDescripcion}/>\r\n                <button class=\"btn btn-outline-success my-2 my-sm-0\" onClick={buscarDescripcion}>Buscar</button>\r\n            </div>\r\n            <div class=\"col-sm-10 offset-sm-1 p-4 rounded\">                \r\n                <h2 class=\"mg-l text-left mb-2\">Productos:</h2> \r\n                <table class=\"table\">\r\n                    <thead class=\"thead-dark\">\r\n                        <tr>\r\n                        <th scope=\"col\">Identificador</th>\r\n                        <th scope=\"col\">Nombre</th>\r\n                        <th scope=\"col\">DescripciÃ³n</th>\r\n                        <th scope=\"col\">Valor Unitario</th>\r\n                        <th scope=\"col\">Estado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        { \r\n                            productos2.map((product) => (                                \r\n                                <tr>\r\n                                    <td>{product.id}</td>\r\n                                    <td>{product.name}</td>\r\n                                    <td>{product.descripcion}</td>\r\n                                    <td>{product.valor}</td>\r\n                                    {product.stock === 0 && <td>Disponible</td>}\r\n                                    {product.stock === 1 && <td>No disponible</td>}\r\n                                </tr>\r\n                            )) \r\n                        }\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Producto;"]},"metadata":{},"sourceType":"module"}