{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import DatePicker from\"react-datepicker\";import\"react-datepicker/dist/react-datepicker.css\";import Select from'react-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModificarVenta=function ModificarVenta(){var estadoVenta=[{value:0,label:\"En proceso\"},{value:1,label:\"Cancelada\"},{value:2,label:\"Entregada\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),ventas=_useState2[0],setVentas=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),vendedores=_useState4[0],setVendedores=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),vendedor=_useState6[0],setVendedor=_useState6[1];useEffect(function(){getVentas();getVendedores();},[]);var showing=false;var getVentas=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/ventas/get');case 3:response=_context.sent;setVentas(response.data.ventas);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getVentas(){return _ref.apply(this,arguments);};}();var getVendedores=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/users/vendedores');case 3:response=_context2.sent;setVendedores(response.data.users);_context2.next=10;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 10:case\"end\":return _context2.stop();}}},_callee2,null,[[0,7]]);}));return function getVendedores(){return _ref2.apply(this,arguments);};}();var getInitialState=function getInitialState(){var value=\"0000\";return value;};var _useState7=useState(getInitialState),_useState8=_slicedToArray(_useState7,2),venta=_useState8[0],setVenta=_useState8[1];var _useState9=useState(new Date()),_useState10=_slicedToArray(_useState9,2),startDate=_useState10[0],setStartDate=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),cantidad=_useState12[0],setCantidad=_useState12[1];var _useState13=useState(0),_useState14=_slicedToArray(_useState13,2),cedula_cliente=_useState14[0],setCedula=_useState14[1];var _useState15=useState(\"\"),_useState16=_slicedToArray(_useState15,2),nombre_cliente=_useState16[0],setNombre=_useState16[1];var _useState17=useState({}),_useState18=_slicedToArray(_useState17,2),estado=_useState18[0],setEstado=_useState18[1];var selectVenta=function selectVenta(e){var venta=JSON.parse(e.target.value);console.log(venta);setVenta(venta);setCantidad(venta.cantidad);setCedula(venta.cedula_cliente);setNombre(venta.nombre_cliente);setStartDate(new Date());setVendedor(venta.email_vendedor);setEstado(estadoVenta[venta.estado]);};var selectVendedor=function selectVendedor(e){var vendedor=e.target.value;setVendedor(vendedor);};var changeCantidad=function changeCantidad(e){setCantidad(e.target.value);};var changeCedula=function changeCedula(e){setCedula(e.target.value);};var changeNombre=function changeNombre(e){setNombre(e.target.value);};var selectDate=function selectDate(fecha){setStartDate(new Date(Date.parse(fecha)));};var selectEstado=function selectEstado(estado){setEstado(estado);};return/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog text-center mt-2\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-15 main-section\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-12 user-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6MlkOcfm3WFyiWvOGuk0U0ZpsYaTcjNfjzF60r5-jVk4a-W-N1IXfcLZLwna6ngmfDx8&usqp=CAU\",alt:\"icon\"})}),/*#__PURE__*/_jsxs(\"form\",{class:\"row g-3\",action:\"https://pub-ciclo3-server.herokuapp.com/api/ventas/update\",method:\"post\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"col-12\",children:\"Modificar venta: \"}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"uuid\",class:\"form-label\",children:\"Identificador venta:\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"form-select\",name:\"id\",onChange:selectVenta,children:[/*#__PURE__*/_jsx(\"option\",{value:null}),ventas.map(function(venta){return/*#__PURE__*/_jsx(\"option\",{value:JSON.stringify(venta),children:venta.id});})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{display:showing?'block':'none'},name:\"uuid\",value:venta.id}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{display:showing?'block':'none'},name:\"valor_producto\",value:venta.valor_producto})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"estado\",class:\"form-label\",children:\"Estado:\"}),/*#__PURE__*/_jsx(Select,{class:\"form-select\",id:\"estado\",name:\"estado\",options:estadoVenta,value:estado,onChange:selectEstado})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cantidad\",class:\"form-label\",children:\"Cantidad:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"cantidad\",name:\"cantidad\",value:cantidad,onChange:changeCantidad})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"fecha\",class:\"form-label\",children:\"Fecha de venta:\"}),/*#__PURE__*/_jsx(DatePicker,{class:\"form-control\",id:\"fecha\",name:\"fecha\",selected:startDate,dateFormat:\"dd-MM-yyyy\",onChange:selectDate})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"cedula\",class:\"form-label\",children:\"C\\xE9dula cliente:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"cedula_cliente\",name:\"cedula_cliente\",value:cedula_cliente,onChange:changeCedula})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-md-6 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"nombre\",class:\"form-label\",children:\"Nombre cliente:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"nombre_cliente\",name:\"nombre_cliente\",value:nombre_cliente,onChange:changeNombre})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"vendedor\",class:\"form-label\",children:\"Vendedor:\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"form-select\",name:\"vendedor\",value:vendedor,onChange:selectVendedor,children:[/*#__PURE__*/_jsx(\"option\",{value:null}),vendedores.map(function(vendedor){return/*#__PURE__*/_jsx(\"option\",{value:vendedor.email,children:vendedor.email});})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{display:showing?'block':'none'},name:\"email_vendedor\",value:vendedor})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12 mt-4 mb-4\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-dark btn-block\",id:\"post-btn\",type:\"submit\",children:\"Modificar\"})})]})]})})});};export default ModificarVenta;","map":{"version":3,"sources":["C:/Users/Enrique Niebles/Documents/Misi√≥n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/src/components/ventas/ModificarVenta.js"],"names":["React","useEffect","useState","axios","DatePicker","Select","ModificarVenta","estadoVenta","value","label","ventas","setVentas","vendedores","setVendedores","vendedor","setVendedor","getVentas","getVendedores","showing","get","response","data","console","log","users","getInitialState","venta","setVenta","Date","startDate","setStartDate","cantidad","setCantidad","cedula_cliente","setCedula","nombre_cliente","setNombre","estado","setEstado","selectVenta","e","JSON","parse","target","email_vendedor","selectVendedor","changeCantidad","changeCedula","changeNombre","selectDate","fecha","selectEstado","map","stringify","id","display","valor_producto","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport Select from 'react-select';\r\n\r\nconst ModificarVenta = () => {\r\n    \r\n    const estadoVenta = [\r\n        {value:0, label:\"En proceso\"},\r\n        {value:1, label:\"Cancelada\"},\r\n        {value:2, label:\"Entregada\"}\r\n    ]\r\n\r\n    const [ventas, setVentas] = useState([]);\r\n    const [vendedores, setVendedores] = useState([]);\r\n    const [vendedor, setVendedor] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        getVentas();\r\n        getVendedores();\r\n    }, []);\r\n\r\n    const showing = false;\r\n\r\n    const getVentas = async () => {\r\n        try {\r\n            const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/ventas/get');\r\n            setVentas(response.data.ventas);\r\n        } catch (error) {\r\n            console.log(\"Ha ocurrido un error\");\r\n        }\r\n    }\r\n\r\n    const getVendedores = async () => {\r\n        try {\r\n            const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/users/vendedores');\r\n            setVendedores(response.data.users);\r\n        } catch (error) {\r\n            console.log(\"Ha ocurrido un error\");\r\n        }\r\n    }\r\n\r\n    const getInitialState = () => {\r\n        const value = \"0000\";\r\n        return value;\r\n    };\r\n    \r\n    const [venta, setVenta] = useState(getInitialState);\r\n    const [startDate, setStartDate] = useState(new Date());\r\n    const [cantidad, setCantidad] = useState();\r\n    const [cedula_cliente, setCedula] = useState(0);\r\n    const [nombre_cliente, setNombre] = useState(\"\");\r\n    const [estado, setEstado] = useState({});\r\n\r\n    const selectVenta = (e) => {    \r\n        const venta = JSON.parse(e.target.value); \r\n        console.log(venta);\r\n        setVenta(venta);\r\n        setCantidad(venta.cantidad);\r\n        setCedula(venta.cedula_cliente);\r\n        setNombre(venta.nombre_cliente);\r\n        setStartDate(new Date());\r\n        setVendedor(venta.email_vendedor);\r\n        setEstado(estadoVenta[venta.estado]);\r\n    };\r\n\r\n    const selectVendedor = (e) => {    \r\n        const vendedor = e.target.value; \r\n        setVendedor(vendedor);\r\n    };\r\n\r\n    const changeCantidad = (e) => {\r\n        setCantidad(e.target.value);\r\n    }\r\n\r\n    const changeCedula = (e) => {\r\n        setCedula(e.target.value);\r\n    }\r\n\r\n    const changeNombre = (e) => {\r\n        setNombre(e.target.value);\r\n    }\r\n    \r\n    const selectDate = (fecha) => {\r\n        setStartDate(new Date(Date.parse(fecha)));\r\n    }\r\n\r\n    const selectEstado = (estado) => {\r\n        setEstado(estado);\r\n    }\r\n\r\n    return (\r\n        <div class=\"modal-dialog text-center mt-2\">\r\n            <div class=\"col-sm-15 main-section\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"col-12 user-img\">\r\n                        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6MlkOcfm3WFyiWvOGuk0U0ZpsYaTcjNfjzF60r5-jVk4a-W-N1IXfcLZLwna6ngmfDx8&usqp=CAU\" alt=\"icon\" />\r\n                    </div>\r\n                    <form class=\"row g-3\" action=\"https://pub-ciclo3-server.herokuapp.com/api/ventas/update\" method=\"post\">\r\n                        <h4 class=\"col-12\">Modificar venta: </h4>                          \r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"uuid\" class=\"form-label\">Identificador venta:</label>\r\n                            <select class=\"form-select\" name=\"id\" onChange={selectVenta}> \r\n                                <option value={null}></option>                 \r\n                                {\r\n                                    ventas.map((venta) => (\r\n                                        <option value={JSON.stringify(venta)}>{venta.id}</option>\r\n                                    ))                    \r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" style={{ display: (showing ? 'block' : 'none') }} name=\"uuid\" value={venta.id}></input>\r\n                            <input type=\"text\" style={{ display: (showing ? 'block' : 'none') }} name=\"valor_producto\" value={venta.valor_producto}></input>\r\n                        </div> \r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"estado\" class=\"form-label\">Estado:</label>\r\n                            <Select class=\"form-select\" id=\"estado\" name=\"estado\" options={estadoVenta} value={estado} onChange={selectEstado} /> \r\n                        </div>\r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"cantidad\" class=\"form-label\">Cantidad:</label>\r\n                            <input type=\"number\" class=\"form-control\" id=\"cantidad\" name=\"cantidad\" value={cantidad} onChange={changeCantidad}/>\r\n                        </div>\r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"fecha\" class=\"form-label\">Fecha de venta:</label>\r\n                            <DatePicker class=\"form-control\" id=\"fecha\" name=\"fecha\" selected={startDate} dateFormat=\"dd-MM-yyyy\" onChange={selectDate} />\r\n                        </div>\r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"cedula\" class=\"form-label\">C√©dula cliente:</label>\r\n                            <input type=\"number\" class=\"form-control\" id=\"cedula_cliente\" name=\"cedula_cliente\" value={cedula_cliente} onChange={changeCedula}/>\r\n                        </div>\r\n                        <div class=\"col-md-6 mt-2\">\r\n                            <label for=\"nombre\" class=\"form-label\">Nombre cliente:</label>\r\n                            <input type=\"text\" class=\"form-control\" id=\"nombre_cliente\" name=\"nombre_cliente\" value={nombre_cliente} onChange={changeNombre}/>\r\n                        </div>                \r\n                        <div class=\"col-12 mt-2\">\r\n                            <label for=\"vendedor\" class=\"form-label\">Vendedor:</label>\r\n                            <select class=\"form-select\" name=\"vendedor\" value={vendedor} onChange={selectVendedor}> \r\n                                <option value={null}></option>                 \r\n                                {\r\n                                    vendedores.map((vendedor) => (\r\n                                        <option value={vendedor.email}>{vendedor.email}</option>\r\n                                    ))                    \r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" style={{ display: (showing ? 'block' : 'none') }} name=\"email_vendedor\" value={vendedor}></input>\r\n                        </div> \r\n                        <div class=\"col-12 mt-4 mb-4\">\r\n                            <button class=\"btn btn-dark btn-block\" id=\"post-btn\" type=\"submit\">Modificar</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>    \r\n    );\r\n}\r\n\r\nexport default ModificarVenta;"]},"metadata":{},"sourceType":"module"}