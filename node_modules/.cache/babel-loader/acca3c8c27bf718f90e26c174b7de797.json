{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Enrique Niebles/Documents/Misi\\xF3n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import Select from'react-select';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ModificarProducto=function ModificarProducto(){var estadoProducto=[{value:0,label:\"Disponible\"},{value:1,label:\"No disponible\"}];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),productos=_useState2[0],setProductos=_useState2[1];useEffect(function(){getProductos();},[]);var showing=false;var getProductos=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('https://pub-ciclo3-server.herokuapp.com/api/productos/get');case 3:response=_context.sent;console.log(response.data.products);setProductos(response.data.products);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log(\"Ha ocurrido un error\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function getProductos(){return _ref.apply(this,arguments);};}();var getInitialState=function getInitialState(){var value=\"0000\";return value;};var _useState3=useState(getInitialState),_useState4=_slicedToArray(_useState3,2),producto=_useState4[0],setProducto=_useState4[1];var _useState5=useState(estadoProducto[0]),_useState6=_slicedToArray(_useState5,2),estado=_useState6[0],setEstado=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),nombre=_useState8[0],setNombre=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),descripcion=_useState10[0],setDescripcion=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),valor=_useState12[0],setValor=_useState12[1];var selectEstado=function selectEstado(estado){setEstado(estado);};var selectProduct=function selectProduct(e){var product=JSON.parse(e.target.value);setEstado(estadoProducto[product.stock]);setDescripcion(product.descripcion);setNombre(product.name);setValor(product.valor);setProducto(product);};var changeValor=function changeValor(e){var valor=JSON.parse(e.target.value);setValor(valor);};var changeDescripcion=function changeDescripcion(e){var descripcion=JSON.parse(e.target.value);setValor(descripcion);};var changeNombre=function changeNombre(e){var name=JSON.parse(e.target.value);setValor(name);};return/*#__PURE__*/_jsx(\"div\",{class:\"modal-dialog text-center mt-0\",children:/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-10 main-section\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"modal-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-12 user-img\",children:/*#__PURE__*/_jsx(\"img\",{src:\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6MlkOcfm3WFyiWvOGuk0U0ZpsYaTcjNfjzF60r5-jVk4a-W-N1IXfcLZLwna6ngmfDx8&usqp=CAU\",alt:\"icon\"})}),/*#__PURE__*/_jsxs(\"form\",{class:\"row g-3\",action:\"https://pub-ciclo3-server.herokuapp.com/api/product/update\",method:\"post\",children:[/*#__PURE__*/_jsx(\"h4\",{class:\"col-12\",children:\"Modificar producto: \"}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 mt-2\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"uuid\",class:\"form-label\",children:\"Identificador:\"}),/*#__PURE__*/_jsxs(\"select\",{class:\"form-select\",name:\"id\",onChange:selectProduct,children:[/*#__PURE__*/_jsx(\"option\",{value:null}),productos.map(function(product){return/*#__PURE__*/_jsx(\"option\",{value:JSON.stringify(product),children:product.id});})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",style:{display:showing?'block':'none'},name:\"uuid\",value:producto.id})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"nombre\",class:\"form-label\",children:\"Nombre:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"nombre\",name:\"nombre\",value:nombre,onChange:changeNombre})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"descripcion\",class:\"form-label\",children:\"Descripci\\xF3n:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"form-control\",id:\"descripcion\",name:\"descripcion\",value:descripcion,onChange:changeDescripcion})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"valor\",class:\"form-label\",children:\"Valor unitario:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",class:\"form-control\",id:\"valor\",name:\"valor\",value:valor,onChange:changeValor})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"estado\",class:\"form-label\",children:\"Estado del producto:\"}),/*#__PURE__*/_jsx(Select,{class:\"form-select\",id:\"inputRol\",name:\"stock\",options:estadoProducto,value:estado,onChange:selectEstado})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-12 mt-4 mb-4\",children:/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-dark btn-block\",id:\"post-btn\",type:\"submit\",children:\"Modificar\"})})]})]})})});};export default ModificarProducto;","map":{"version":3,"sources":["C:/Users/Enrique Niebles/Documents/Misi√≥n TIC 2021/Ciclo 3 - Desarrollo Software/Heroku/client/react/src/components/product/ModificarProducto.js"],"names":["React","useEffect","useState","Select","axios","ModificarProducto","estadoProducto","value","label","productos","setProductos","getProductos","showing","get","response","console","log","data","products","getInitialState","producto","setProducto","estado","setEstado","nombre","setNombre","descripcion","setDescripcion","valor","setValor","selectEstado","selectProduct","e","product","JSON","parse","target","stock","name","changeValor","changeDescripcion","changeNombre","map","stringify","id","display"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Select from 'react-select';\r\nimport axios from 'axios';\r\n\r\nconst ModificarProducto = () => {\r\n\r\n    const estadoProducto = [\r\n        {value:0, label:\"Disponible\"},\r\n        {value:1, label:\"No disponible\"}\r\n    ]\r\n\r\n    const [productos, setProductos] = useState([]);\r\n\r\n    useEffect(() => {\r\n        getProductos();\r\n    }, []);\r\n\r\n    const showing = false;\r\n\r\n    const getProductos = async () => {\r\n        try {\r\n            const response = await axios.get('https://pub-ciclo3-server.herokuapp.com/api/productos/get');\r\n            console.log(response.data.products);\r\n            setProductos(response.data.products);\r\n        } catch (error) {\r\n            console.log(\"Ha ocurrido un error\");\r\n        }\r\n    }\r\n\r\n    const getInitialState = () => {\r\n        const value = \"0000\";\r\n        return value;\r\n    };\r\n    \r\n    const [producto, setProducto] = useState(getInitialState);\r\n    const [estado, setEstado] = useState(estadoProducto[0]);\r\n    const [nombre, setNombre] = useState(\"\");\r\n    const [descripcion, setDescripcion] = useState(\"\");\r\n    const [valor, setValor] = useState();\r\n\r\n    const selectEstado = (estado) => {\r\n        setEstado(estado);\r\n    } \r\n\r\n    const selectProduct = (e) => {    \r\n        const product = JSON.parse(e.target.value); \r\n        setEstado(estadoProducto[product.stock]);\r\n        setDescripcion(product.descripcion);\r\n        setNombre(product.name);\r\n        setValor(product.valor);\r\n        setProducto(product);\r\n    };\r\n\r\n    const changeValor = (e) => {    \r\n        const valor = JSON.parse(e.target.value); \r\n        setValor(valor);\r\n    };\r\n\r\n    const changeDescripcion = (e) => {    \r\n        const descripcion = JSON.parse(e.target.value); \r\n        setValor(descripcion);\r\n    };\r\n\r\n    const changeNombre = (e) => {    \r\n        const name = JSON.parse(e.target.value); \r\n        setValor(name);\r\n    };\r\n\r\n    return (        \r\n         <div class=\"modal-dialog text-center mt-0\">\r\n            <div class=\"col-sm-10 main-section\">\r\n                <div class=\"modal-content\">\r\n                    <div class=\"col-12 user-img\">\r\n                        <img src=\"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR6MlkOcfm3WFyiWvOGuk0U0ZpsYaTcjNfjzF60r5-jVk4a-W-N1IXfcLZLwna6ngmfDx8&usqp=CAU\" alt=\"icon\" />\r\n                    </div>\r\n                    <form class=\"row g-3\" action=\"https://pub-ciclo3-server.herokuapp.com/api/product/update\" method=\"post\">\r\n                        <h4 class=\"col-12\">Modificar producto: </h4>                          \r\n                        <div class=\"col-12 mt-2\">\r\n                            <label for=\"uuid\" class=\"form-label\">Identificador:</label>\r\n                            <select class=\"form-select\" name=\"id\" onChange={selectProduct}> \r\n                                <option value={null}></option>                 \r\n                                {\r\n                                    productos.map((product) => (\r\n                                        <option value={JSON.stringify(product)}>{product.id}</option>\r\n                                    ))                    \r\n                                }\r\n                            </select>\r\n                            <input type=\"text\" style={{ display: (showing ? 'block' : 'none') }} name=\"uuid\" value={producto.id}></input>\r\n                        </div> \r\n                        <div class=\"col-12\">\r\n                            <label for=\"nombre\" class=\"form-label\">Nombre:</label>\r\n                            <input type=\"text\" class=\"form-control\" id=\"nombre\" name=\"nombre\" value={nombre} onChange={changeNombre}/>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                            <label for=\"descripcion\" class=\"form-label\">Descripci√≥n:</label>\r\n                            <input type=\"text\" class=\"form-control\" id=\"descripcion\" name=\"descripcion\" value={descripcion} onChange={changeDescripcion}/>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                            <label for=\"valor\" class=\"form-label\">Valor unitario:</label>\r\n                            <input type=\"number\" class=\"form-control\" id=\"valor\" name=\"valor\" value={valor} onChange={changeValor}/>\r\n                        </div>\r\n                        <div class=\"col-12\">\r\n                            <label for=\"estado\" class=\"form-label\">Estado del producto:</label>\r\n                            <Select class=\"form-select\" id=\"inputRol\" name=\"stock\" options={estadoProducto} value={estado} onChange={selectEstado} /> \r\n                        </div>\r\n                        <div class=\"col-12 mt-4 mb-4\">\r\n                            <button class=\"btn btn-dark btn-block\" id=\"post-btn\" type=\"submit\">Modificar</button>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>        \r\n    );\r\n}\r\n\r\nexport default ModificarProducto;"]},"metadata":{},"sourceType":"module"}